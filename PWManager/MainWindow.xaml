<Window x:Class="PWManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PWManager"
        mc:Ignorable="d"
        Title="PW Manager" Height="450" Width="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip"
        Background="#FFD7ECFF">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30" />
            <RowDefinition Height="35" />
            <RowDefinition MinHeight="60" Height="*"/>
        </Grid.RowDefinitions>

        <Button Grid.Row="0" Name="add_password" Width="100" Content="Add a service..." Margin="10,10,0,0" HorizontalAlignment="Left" Click="add_password_Click"/>

        <Label Content="Search for service name:" HorizontalAlignment="Left" Margin="5,0,0,0" Grid.Row="1" VerticalAlignment="Center"/>
        <TextBox Name="SearchText" HorizontalAlignment="Left" Margin="148,0,0,0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Center" Width="155" Height="20" TextChanged="SearchText_TextChanged"/>

        <DataGrid SelectionUnit="Cell" IsReadOnly="True" Grid.Row="2" Name="grid" AutoGenerateColumns="False">
            <DataGrid.ContextMenu>
                <ContextMenu>
                    <MenuItem Command="Copy"/>
                </ContextMenu>
            </DataGrid.ContextMenu>
            <DataGrid.Columns>
                <DataGridTextColumn Header="Service Name" Binding="{Binding name}" MinWidth="50" Width="auto"/>
                <DataGridHyperlinkColumn Header="URL" Binding="{Binding url}" MinWidth="50" Width="auto">
                    <DataGridHyperlinkColumn.ElementStyle>
                        <Style>
                            <EventSetter Event="Hyperlink.Click" Handler="OnURLClick"/>
                        </Style>
                    </DataGridHyperlinkColumn.ElementStyle>
                </DataGridHyperlinkColumn>
                <DataGridTextColumn Header="Login" Binding="{Binding login}" MinWidth="50" Width="auto"/>
                <DataGridTextColumn Header="Password" Binding="{Binding hidden_password}" MinWidth="50" Width="*">
                    <DataGridTextColumn.CellStyle>
                        <Style TargetType="DataGridCell">
                            <Setter Property="ToolTip" Value="{Binding password}" />
                        </Style>
                    </DataGridTextColumn.CellStyle>
                </DataGridTextColumn>
                <DataGridTemplateColumn Header="Show" CanUserResize="False" MinWidth="40">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Name="show_pass_button" Width="40" Height="20" BorderBrush="White" Background="White" ToolTip="Show password" Click="show_pass_button_Click">
                                <Image Name="eyeImg" Source="/Images/eye.png"/>
                            </Button>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Fav" CanUserResize="False" MinWidth="20">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Name="favorite_button" Width="20" Height="20" BorderBrush="White" Background="White" ToolTip="Add/Remove in favorites" Click="favorite_button_Click">
                                <Image Name="favoriteImg" Source="/Images/favorite_empty.png" />
                            </Button>
                            <DataTemplate.Triggers>
                                <DataTrigger Binding="{Binding is_favorite}" Value="True">
                                    <Setter TargetName="favoriteImg" Property="Source" Value="/Images/favorite_full.png"/>
                                </DataTrigger>
                            </DataTemplate.Triggers>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Modify" CanUserResize="False" MinWidth="50">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Name="modify_button" Content="Modify" Width="50" Height="20" ToolTip="Modify service information" Click="modify_button_Click"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Delete" CanUserResize="False" MinWidth="45">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Name="delete_button" Content="Delete" Width="50" Height="20" ToolTip="Delete service" Click="delete_button_Click"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
